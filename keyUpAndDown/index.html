<!DOCTYPE html>
<html lang="en" id="documentHtml">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Key up and down</title>

            <style>
                    .hoverLi{
                        background: grey;
                        color: aliceblue;
                    }
                    li:hover{
                        background: grey;
                        color: aliceblue;
                    }
            </style>
    
</head>
<body>
            <input type="text" id="form">
            <ul id="container">
                <li data-id="holi 1">holi 1</li>
                <li data-id="holi 2">holi 2</li>
                <li data-id="holi 3">holi 3</li>
                <li data-id="holi 4">holi 4</li>
                <li data-id="holi 5">holi 5</li>
                <li data-id="holi 6">holi 6</li>
            </ul>

            <script>
                     //key 38 up
                    //key 40 dow
                    $form = document.getElementById('form');
                    let position = '';

                    $form.addEventListener('keyup', e =>{

                            if(e.keyCode == 40 || e.keyCode == 38){

                                const $elementsLi = document.getElementsByTagName('li');
                                const $tam = $elementsLi.length;
                                removeStyles($tam, $elementsLi);
                               
                                e.keyCode == 38 ? position -- : position ++;    

                                for (let i = 0; i < $tam; i++) {
                                        $elementsLi[i].style.background = '#fff';
                                        $elementsLi[i].style.color = 'black';
                                } 

                                if(position <= $tam && position > 0){
                                        $form.value = addAndRemoveAndValue($elementsLi[position-1]);
                                }else if(position <= 0){
                                        $form.value = addAndRemoveAndValue($elementsLi[$tam-1]);
                                        position = $tam;
                                }else{
                                        $form.value = addAndRemoveAndValue($elementsLi[0]);
                                        position = 1;
                                        // console.log('inicio despues de llegar al ultimo elemento')
                                }  

                            }
                    });
                    function removeStyles(tam, elementsLi){
                            for (let i = 0; i < tam; i++) {
                                elementsLi[i].classList.remove('hoverLi');
                            }
                    }
                    function addAndRemoveAndValue(element){
                                element.removeAttribute('style');
                                element.classList.add('hoverLi');
                                return element.dataset.id;
                    }
                    const $list = document.getElementsByTagName('li');
                    const $tamanioList = $list.length;
                        for (let i = 0; i < $tamanioList; i++) {
                                $list[i].addEventListener('mouseover', e => {
                                        if(position){
                                             $list[position-1].classList.remove('hoverLi')
                                        } 
                                             $list[i].removeAttribute('style');
                                })
                        }  
            </script>        
</body>
</html>